<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Chemiscope dataset_data</title>

    <!-- required by 3Dmol.js -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
      crossorigin="anonymous"
    ></script>

    <!-- put chemiscope.min.js next to this file -->
    <script defer type="text/javascript" src="./chemiscope.min.js"></script>

    <style>
      body { font-family: sans-serif; margin: 0; padding: 12px; }
      #layout { display: grid; grid-template-columns: 1fr 420px; gap: 12px; }
      #structure { width: 420px; height: 420px; }
    </style>
  </head>

  <body>
    <div id="meta"></div>
    <div id="layout">
      <div>
        <div id="map"></div>
        <div id="info"></div>
      </div>
      <div id="structure"></div>
    </div>

    <script type="text/javascript">
      window.onerror = (error) => {
        document.body.insertAdjacentHTML(
          "afterbegin",
          `<div style="color:red; padding:8px;">ERROR: ${error}</div>`
        );
      };

      async function main() {
        // load the dataset exported from Python
        const resp = await fetch("./data/dataset.json");
        const dataset = await resp.json();

        const config = {
          map: "map",
          meta: "meta",
          info: "info",
          structure: "structure",
        };

        // start chemiscope default UI
        Chemiscope.DefaultVisualizer.load(config, dataset);
      }

      document.addEventListener("DOMContentLoaded", main);
    </script>
  </body>
</html>
